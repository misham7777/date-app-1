(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[229],{1408:(e,t,s)=>{"use strict";s.d(t,{N:()=>v});var n=s(5155),i=s(2115),r=s(296),a=s(4416),o=s(6553),c=s(9686),l=s(1402),d=s(3127);class m extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,l.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=s-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u(e){let{children:t,isPresent:s,anchorX:r,root:a}=e,o=(0,i.useId)(),c=(0,i.useRef)(null),l=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,i.useContext)(d.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:i,right:d}=l.current;if(s||!c.current||!e||!t)return;c.current.dataset.motionPopId=o;let m=document.createElement("style");u&&(m.nonce=u);let p=null!=a?a:document.head;return p.appendChild(m),m.sheet&&m.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===r?"left: ".concat(i):"right: ".concat(d),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{p.contains(m)&&p.removeChild(m)}},[s]),(0,n.jsx)(m,{isPresent:s,childRef:c,sizeRef:l,children:i.cloneElement(t,{ref:c})})}let p=e=>{let{children:t,initial:s,isPresent:r,onExitComplete:o,custom:l,presenceAffectsLayout:d,mode:m,anchorX:p,root:g}=e,x=(0,a.M)(h),f=(0,i.useId)(),v=!0,w=(0,i.useMemo)(()=>(v=!1,{id:f,initial:s,isPresent:r,custom:l,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[r,x,o]);return d&&v&&(w={...w}),(0,i.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),i.useEffect(()=>{r||x.size||!o||o()},[r]),"popLayout"===m&&(t=(0,n.jsx)(u,{isPresent:r,anchorX:p,root:g,children:t})),(0,n.jsx)(c.t.Provider,{value:w,children:t})};function h(){return new Map}var g=s(5601);let x=e=>e.key||"";function f(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:s,initial:c=!0,onExitComplete:l,presenceAffectsLayout:d=!0,mode:m="sync",propagate:u=!1,anchorX:h="left",root:v}=e,[w,y]=(0,g.xQ)(u),j=(0,i.useMemo)(()=>f(t),[t]),I=u&&!w?[]:j.map(x),_=(0,i.useRef)(!0),b=(0,i.useRef)(j),N=(0,a.M)(()=>new Map),[k,S]=(0,i.useState)(j),[E,z]=(0,i.useState)(j);(0,o.E)(()=>{_.current=!1,b.current=j;for(let e=0;e<E.length;e++){let t=x(E[e]);I.includes(t)?N.delete(t):!0!==N.get(t)&&N.set(t,!1)}},[E,I.length,I.join("-")]);let C=[];if(j!==k){let e=[...j];for(let t=0;t<E.length;t++){let s=E[t],n=x(s);I.includes(n)||(e.splice(t,0,s),C.push(s))}return"wait"===m&&C.length&&(e=C),z(f(e)),S(j),null}let{forceRender:M}=(0,i.useContext)(r.L);return(0,n.jsx)(n.Fragment,{children:E.map(e=>{let t=x(e),i=(!u||!!w)&&(j===E||I.includes(t));return(0,n.jsx)(p,{isPresent:i,initial:(!_.current||!!c)&&void 0,custom:s,presenceAffectsLayout:d,mode:m,root:v,onExitComplete:i?void 0:()=>{if(!N.has(t))return;N.set(t,!0);let e=!0;N.forEach(t=>{t||(e=!1)}),e&&(null==M||M(),z(b.current),u&&(null==y||y()),l&&l())},anchorX:h,children:e},t)})})}},1873:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(1847).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},6480:(e,t,s)=>{Promise.resolve().then(s.bind(s,8101))},7828:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});let n=(0,s(1847).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},8101:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var n=s(5155),i=s(2115),r=s(5417),a=s(1408),o=s(7828),c=s(1873),l=s(63),d=s(8593);function m(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),[s,m]=(0,i.useState)(97),[u,p]=(0,i.useState)(0),[h,g]=(0,i.useState)(0),[x,f]=(0,i.useState)(0),[v,w]=(0,i.useState)(!0),[y,j]=(0,i.useState)(1),[I,_]=(0,i.useState)(10),b=t.get("name")||"User",N=t.get("age")||"25",k=t.get("location")||"Warsaw, Poland",S=t.get("lat")||"52.153794",E=t.get("lng")||"21.078421",z=["Scanning 50+ dating platforms...","Analyzing facial recognition patterns...","Cross-referencing location data...","Comparing profile information...","Generating intelligence report..."];return(0,i.useEffect)(()=>{(async()=>{await (0,d.oe)("/loading","Loading - Relationship Intel"),await (0,d.wS)({funnel_step:"loading_start",step_order:2,is_completed:!1}),await (0,d._I)({event_type:"started",progress_percentage:0,profiles_analyzed:0,loading_message:z[0]})})()},[]),(0,i.useEffect)(()=>{let t=setInterval(()=>{p(e=>{if(e>=25e4)return clearInterval(t),25e4;let s=Math.max(1e3,Math.floor(e/10));return Math.min(e+s,25e4)})},100),n=setInterval(()=>{g(e=>e>=100?(clearInterval(n),100):e+1)},100),i=setInterval(()=>{f(e=>(e+1)%z.length)},2e3),r=setInterval(()=>{j(e=>1===e?1.1:1)},1e3),a=setInterval(()=>{_(e=>e<=1?(clearInterval(a),0):e-1)},1e3),o=setInterval(async()=>{s>0&&s<=97&&await (0,d._I)({event_type:"progress_update",progress_percentage:s,profiles_analyzed:u,loading_message:z[x]})},2e3),c=setTimeout(()=>{console.log("Loading complete, redirecting to checkout..."),w(!1);let t="/checkout?name=".concat(encodeURIComponent(b),"&age=").concat(encodeURIComponent(N),"&location=").concat(encodeURIComponent(k),"&lat=").concat(encodeURIComponent(S),"&lng=").concat(encodeURIComponent(E));console.log("Redirecting to:",t),e.push(t),setTimeout(async()=>{try{await (0,d._I)({event_type:"completed",progress_percentage:97,profiles_analyzed:25e4,loading_message:"Analysis complete!",duration_seconds:10}),await (0,d.wS)({funnel_step:"loading_complete",step_order:3,is_completed:!0})}catch(e){console.error("Error tracking loading completion:",e)}},100)},1e4);return()=>{clearInterval(t),clearInterval(n),clearInterval(i),clearInterval(r),clearInterval(a),clearInterval(o),clearTimeout(c)}},[b,N,k,S,E]),(0,n.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-red-50 font-sans",children:(0,n.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,n.jsx)(r.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-pink-500 to-red-500 rounded-t-2xl p-6 text-white",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-lg font-medium mb-1",children:"Searching for"}),(0,n.jsxs)("p",{className:"text-2xl font-bold",children:[b,", ",N," y.o"]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("p",{className:"text-sm font-medium mb-1",children:"Profile Match Score"}),(0,n.jsxs)(r.P.p,{className:"text-4xl font-bold",initial:{scale:.8},animate:{scale:1},transition:{duration:.5},children:[s,"%"]})]})]})}),(0,n.jsxs)(r.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-b-2xl shadow-xl border border-gray-100 p-6",children:[(0,n.jsx)("div",{className:"relative mb-6",children:(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg overflow-hidden shadow-sm",children:[(0,n.jsx)("img",{src:function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:14;return"https://api.mapbox.com/styles/v1/".concat("mapbox/streets-v12","/static/").concat(t,",").concat(e,",").concat(s,",0/900x900?access_token=").concat("pk.eyJ1IjoiZnJlZGJrayIsImEiOiJjbTJqeWVkczIwYzE5MmpyMGp6OTY1ODgzIn0.MiNzEcVX_atB-tG6y3KQkw")}(S,E),alt:"Location map",className:"w-full h-64 object-cover"}),(0,n.jsx)(r.P.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"bg-red-500/20 backdrop-blur-sm rounded-full p-4",children:(0,n.jsx)(o.A,{className:"w-12 h-12 text-red-600"})})}),(0,n.jsx)("div",{className:"absolute top-4 left-4",children:(0,n.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.A,{className:"w-4 h-4 text-red-500"}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"1.3 mi"})]})})}),(0,n.jsx)("div",{className:"absolute top-4 right-4",children:(0,n.jsx)("div",{className:"bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(c.A,{className:"w-4 h-4 text-red-500"}),(0,n.jsx)("span",{className:"text-sm font-medium text-gray-800",children:"1.5 mi"})]})})}),(0,n.jsx)("div",{className:"absolute bottom-4 left-4",children:(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsxs)("div",{className:"bg-gray-800/80 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center mb-2",children:(0,n.jsx)("span",{className:"text-white text-lg font-bold",children:"**"})}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-xs text-white/80",children:"Location"}),(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:"1.3 mi"})]})]}),(0,n.jsxs)("div",{className:"bg-gray-800/80 backdrop-blur-sm rounded-lg p-3 shadow-lg",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-gray-700 rounded-lg flex items-center justify-center mb-2",children:(0,n.jsx)("span",{className:"text-white text-lg font-bold",children:"**"})}),(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-xs text-white/80",children:"Location"}),(0,n.jsx)("p",{className:"text-sm font-medium text-white",children:"1.5 mi"})]})]})]})})]})}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("div",{className:"bg-gray-900/90 backdrop-blur-sm rounded-lg p-4",children:(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-white font-medium",children:"Profiles analyzed:"}),(0,n.jsx)(r.P.span,{className:"text-white text-2xl font-bold",initial:{scale:.8},animate:{scale:1},transition:{duration:.3},children:u.toLocaleString()})]})}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsx)(a.N,{mode:"wait",children:(0,n.jsx)(r.P.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.3},className:"text-lg font-medium text-gray-700",children:z[x]},x)})}),(0,n.jsx)("div",{className:"bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,n.jsx)(r.P.div,{className:"h-full bg-gradient-to-r from-pink-500 via-orange-500 to-green-500",initial:{width:0},animate:{width:"".concat(h,"%")},transition:{duration:.5,ease:"easeOut"}})}),(0,n.jsx)("div",{className:"text-center",children:(0,n.jsxs)("p",{className:"text-sm text-gray-600",children:["Redirecting in ",I," seconds..."]})}),!v&&(0,n.jsxs)(r.P.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center space-y-4",children:[(0,n.jsx)("p",{className:"text-green-600 font-medium",children:"Analysis complete! Redirecting to checkout..."}),(0,n.jsx)("button",{onClick:()=>{let e="/checkout?name=".concat(encodeURIComponent(b),"&age=").concat(encodeURIComponent(N),"&location=").concat(encodeURIComponent(k),"&lat=").concat(encodeURIComponent(S),"&lng=").concat(encodeURIComponent(E));window.location.href=e},className:"bg-gradient-to-r from-pink-500 to-orange-500 hover:from-pink-600 hover:to-orange-600 text-white font-semibold px-6 py-3 rounded-lg transition-all duration-300",children:"Click here if not redirected automatically"})]})]})]})]})})})}function u(){return(0,n.jsx)(i.Suspense,{fallback:(0,n.jsx)("div",{children:"Loading..."}),children:(0,n.jsx)(m,{})})}},8593:(e,t,s)=>{"use strict";s.d(t,{IJ:()=>c,ND:()=>n,ZV:()=>a,_I:()=>d,oe:()=>o,wS:()=>m,xj:()=>l});let n=(0,s(5040).UU)("https://xyfccngjyuoqsjhxrllg.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5ZmNjbmdqeXVvcXNqaHhybGxnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxMzQwNDMsImV4cCI6MjA3MTcxMDA0M30.BJ83sUcv6A3xGruWqFi3tL0rzXuRakE3U0ilQbgLXeo");class i{getOrCreateSessionId(){let e=localStorage.getItem("quiz_session_id");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),localStorage.setItem("quiz_session_id",e)),e}async createQuizSession(e){let t={session_id:this.sessionId,ip_address:e.ip_address,user_agent:e.user_agent||window.navigator.userAgent,referrer:e.referrer||document.referrer,total_steps:e.total_steps||4,current_step:e.current_step||1,...e},{data:s,error:i}=await n.from("quiz_sessions").insert([t]).select().single();return i?(console.error("Error creating quiz session:",i),this.sessionId):(null==s?void 0:s.id)||this.sessionId}async trackQuizAnswer(e){let t={...e,session_id:this.sessionId},{error:s}=await n.from("quiz_answers").insert([t]);s&&console.error("Error tracking quiz answer:",s)}async trackPageView(e,t,s){let i={session_id:this.sessionId,page_path:e,page_title:t||document.title,time_spent_seconds:s},{error:r}=await n.from("page_views").insert([i]);r&&console.error("Error tracking page view:",r)}async trackInteraction(e){let t={...e,session_id:this.sessionId,page_path:e.page_path||window.location.pathname},{error:s}=await n.from("user_interactions").insert([t]);s&&console.error("Error tracking interaction:",s)}async trackPaymentAttempt(e){let t={...e,session_id:this.sessionId},{error:s}=await n.from("payment_attempts").insert([t]);s&&console.error("Error tracking payment attempt:",s)}async trackLoadingEvent(e){let t={...e,session_id:this.sessionId},{error:s}=await n.from("loading_screen_events").insert([t]);s&&console.error("Error tracking loading event:",s)}async trackDeviceInfo(){let e={session_id:this.sessionId,browser:this.getBrowserInfo(),browser_version:this.getBrowserVersion(),operating_system:this.getOperatingSystem(),device_type:this.getDeviceType(),screen_resolution:"".concat(screen.width,"x").concat(screen.height),viewport_size:"".concat(window.innerWidth,"x").concat(window.innerHeight),language:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},{error:t}=await n.from("device_info").insert([e]);t&&console.error("Error tracking device info:",t)}async trackFunnelStep(e){let t={...e,session_id:this.sessionId},{error:s}=await n.from("conversion_funnel").insert([t]);s&&console.error("Error tracking funnel step:",s)}async updateQuizSession(e){let{error:t}=await n.from("quiz_sessions").update(e).eq("session_id",this.sessionId);t&&console.error("Error updating quiz session:",t)}getBrowserInfo(){let e=navigator.userAgent;return e.includes("Chrome")?"Chrome":e.includes("Firefox")?"Firefox":e.includes("Safari")?"Safari":e.includes("Edge")?"Edge":"Unknown"}getBrowserVersion(){let e=navigator.userAgent.match(/(chrome|firefox|safari|edge)\/(\d+)/i);return e?e[2]:"Unknown"}getOperatingSystem(){let e=navigator.userAgent;return e.includes("Windows")?"Windows":e.includes("Mac")?"macOS":e.includes("Linux")?"Linux":e.includes("Android")?"Android":e.includes("iOS")?"iOS":"Unknown"}getDeviceType(){let e=navigator.userAgent;return e.includes("Mobile")?"mobile":e.includes("Tablet")||e.includes("iPad")?"tablet":"desktop"}getSessionId(){return this.sessionId}constructor(){this.sessionId=this.getOrCreateSessionId()}}let r=new i,a=e=>r.trackQuizAnswer(e),o=(e,t,s)=>r.trackPageView(e,t,s),c=e=>r.trackInteraction(e),l=e=>r.trackPaymentAttempt(e),d=e=>r.trackLoadingEvent(e),m=e=>r.trackFunnelStep(e)}},e=>{e.O(0,[356,40,441,255,358],()=>e(e.s=6480)),_N_E=e.O()}]);